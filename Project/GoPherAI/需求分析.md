
使用 mysql redis rabbitMQ RAG MCP 登录功能
## 技术选型

**省内存、并发稳、工程可控、后期好扩展**。

**原因：**

- **省内存、启动快**：2v2g 很吃香（Java/Node 大工程更容易顶满内存）
- **并发 & SSE/流式**做得很稳（原生协程 + channel）
- 写成“模块化单体”也很舒服：清晰、性能好、部署轻

服务器 2v2g：

- Java：线程重、JVM吃内存
- Node：事件循环单线程
- Go：几千 goroutine 轻松跑

技术选型为什么选 go，用 go 最强大的特性goroutine，gochannel


我想要一个私有化的 ai 应用对话平台，团队私有化，放作业，内部使用，知识库

用户模块是 GopherAI 项目中的核心组件，负责用户的注册、登录、认证和管理。该模块采用 MVC 架构，使用 Gin 框架处理 HTTP 请求，集成 JWT（JSON Web Token）进行身份验证，并通过 Redis 缓存验证码、MySQL 存储用户数据。模块支持邮箱注册、账号登录，并提供安全的令牌机制确保用户会话的安全性。

AI模块是GopherAI项目的核心组件，专注于集成多种AI模型和服务，提供智能聊天对话功能。该模块采用模块化设计，**支持OpenAI GPT系列、Ollama本地模型等多种AI后端**，实现统一的接口调用和管理。**核心功能包括多会话管理、消息历史维护、同步/流式响应输出，以及异步消息持久化。****模块使用工厂模式创建和管理AI助手实例**，每个用户和会话对应独立的AIHelper对象，确保会话隔离和上下文连续性。单例管理器（GlobalManager）维护全局AI助手映射，支持高效的实例获取和生命周期管理。消息历史在内存中维护，通过RabbitMQ异步存储到数据库，避免阻塞主线程。**支持两种响应模式**：同步模式一次性返回完整AI回复，适用于短对话；流式模式使用SSE（Server-Sent Events）实时推送内容片段，提升用户体验。模块集成JWT认证，确保只有登录用户可访问AI功能。**架构设计注重高并发和可扩展性**，AIHelper使用读写锁保护消息历史，支持多线程安全访问。配置驱动的模型选择和API密钥管理，便于部署和维护。该模块不仅服务于聊天功能，还为项目提供了AI集成的标准框架，可扩展到其他AI应用场景。

服务器环境：2v2g 2v4g docker nginx

## 提升方向

对话模块用 goroutine 和 gochannel