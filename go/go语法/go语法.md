## ä¸€ã€ç±»å‹
### 1. ç¬¬ä¸€çº§ï¼šåŸºç¡€ç±»å‹ (Basic Types)

è¿™äº›æ˜¯è¯­è¨€â€œå‡ºå‚è‡ªå¸¦â€çš„ï¼Œæ˜¯æœ€åº•å±‚çš„åŸå­å•ä½ã€‚å®ƒä»¬ç›´æ¥å¯¹åº”è®¡ç®—æœºå†…å­˜ä¸­çš„æ•°å­—æˆ–å¸ƒå°”å€¼ã€‚

- **æ•°å­—**ï¼š`int`, `float64`, `uint32`, `byte` ç­‰ã€‚
    
- **æ–‡æœ¬**ï¼š`string`ã€‚
    
- **é€»è¾‘**ï¼š`bool`ã€‚
    
---

### 2. ç¬¬äºŒçº§ï¼šå¤åˆç±»å‹ (Composite Types) â€”â€” æ¯”å¦‚ Struct

è¿™æ˜¯ä½ ç”¨åŸºç¡€ç±»å‹â€œæ‹¼è£…â€å‡ºæ¥çš„å¤æ‚é›¶ä»¶ã€‚

- **Struct**ï¼šæŠŠä½ å…³å¿ƒçš„å˜é‡æ‰“åŒ…åœ¨ä¸€èµ·ã€‚
    ```go
    type Player struct {
        Score int    // è¿™é‡Œçš„ Score æ˜¯ int ç±»å‹
        Name  string
    }
    ```
    

---

### 3. ç¬¬ä¸‰çº§ï¼šæŠ½è±¡ç±»å‹ (Abstract Types) â€”â€” æ¯”å¦‚ Interface

è¿™æ˜¯ä½ å®šä¹‰çš„â€œè§„æ ¼â€æˆ–â€œåè®®â€ã€‚

- **Interface**ï¼šä¸å…³å¿ƒæ•°æ®ï¼Œåªå…³å¿ƒèƒ½ä¸èƒ½å¹²æ´»ã€‚
    ```go
    type Clarifier interface {
        Clear() // åªè¦æœ‰ Clear æ–¹æ³•å°±è¡Œ
    }
    ```
    
### 4. ç¬¬å››çº§ï¼šå‡½æ•°ç±»å‹ 
    
```go
// å®šä¹‰ä¸€ä¸ªåä¸º Op çš„å‡½æ•°ç±»å‹ 
type Op func(a int, b int) int 
func Calculate(x, y int, action Op) int { return action(x, y) // åƒè°ƒç”¨æ™®é€šå‡½æ•°ä¸€æ ·è°ƒç”¨å®ƒ 
}
```
    

---

### 5. ç¬¬äº”çº§ï¼šå¼•ç”¨/å®¹å™¨ç±»å‹ (Reference Types) â€”â€” â€œéšå½¢æŒ‡é’ˆâ€

è¿™äº›ç±»å‹çœ‹èµ·æ¥åƒæ™®é€šå˜é‡ï¼Œä½†å®ƒä»¬å†…éƒ¨å…¶å®åŒ…å«æŒ‡å‘åº•å±‚æ•°æ®çš„æŒ‡é’ˆã€‚ç›´æ¥ä¼ é€’å®ƒä»¬æ—¶ï¼Œä¿®æ”¹çš„æ˜¯åŒä¸€ä»½æ•°æ®ã€‚

- **Slice (åˆ‡ç‰‡)**ï¼šåŠ¨æ€æ•°ç»„çš„â€œçª—å£â€ã€‚
    
- **Map (æ˜ å°„)**ï¼šå“ˆå¸Œè¡¨ï¼Œå†…ç½®çš„é”®å€¼å¯¹å®¹å™¨ã€‚
    
- **Channel (é€šé“)**ï¼šGoroutine ä¹‹é—´é€šä¿¡çš„ç®¡é“ã€‚
    
- **Pointer (æŒ‡é’ˆ)**ï¼šç›´æ¥å­˜å‚¨å†…å­˜åœ°å€ã€‚
## äºŒã€æ³›å‹ï¼ˆç±»ä¼¼äºTemplateï¼‰
### å…³é”®å­—
`[T any]` ç±»ä¼¼äº `template <typename T>`
### ä¾‹å­
```go
// T æ˜¯ç±»å‹å‚æ•°ï¼Œany è¡¨ç¤ºæ”¯æŒä»»ä½•ç±»å‹
func Swap[T any](a, b T) (T, T) {
    return b, a
}

func main() {
    // äº¤æ¢æ•´æ•°
    i1, i2 := Swap[int](10, 20)
    fmt.Println(i1, i2) // è¾“å‡º: 20 10

    // äº¤æ¢å­—ç¬¦ä¸² (Go ä¼šè‡ªåŠ¨æ¨å¯¼ç±»å‹ï¼Œå¯ä»¥çœç•¥ [string])
    s1, s2 := Swap("World", "Hello")
    fmt.Println(s1, s2) // è¾“å‡º: Hello World
}
```


## ä¸‰ã€å­—é¢é‡èµ‹å€¼

**å­—é¢é‡èµ‹å€¼çš„æ ¸å¿ƒå…¬å¼ï¼š** `å˜é‡ := [&]ç±»å‹{ å­—æ®µ: å€¼, å­—æ®µ: å€¼ }`

- **æœ‰ `&`**ï¼šå¾—åˆ°çš„æ˜¯**æŒ‡é’ˆ**ï¼ˆé€‚åˆ LRU Cache è¿™ç§éœ€è¦è¢«ä¿®æ”¹çš„å¤§å¯¹è±¡ï¼‰ã€‚
    
- **æ—  `&`**ï¼šå¾—åˆ°çš„æ˜¯**å€¼**ï¼ˆé€‚åˆ Point, Color ç­‰ç®€å•çš„å°æ•°æ®ï¼‰ã€‚
```go
c := &Cache{
	maxBytes: 100
	ll: list.New()
}
```
## å››ã€å…·åè¿”å›å€¼

### 1. æ–‡æ¡£è‡ªæ³¨é‡Šï¼ˆæé«˜å¯è¯»æ€§ï¼‰

å½“ä¸€ä¸ªå‡½æ•°è¿”å›å¤šä¸ª**ç±»å‹ç›¸åŒ**çš„å˜é‡æ—¶ï¼Œè°ƒç”¨è€…å¾ˆéš¾ä¸€çœ¼çœ‹å‡ºè°æ˜¯è°ã€‚å…·åè¿”å›å€¼å°±åƒç»™è¿”å›å€¼è´´ä¸Šäº†â€œæ ‡ç­¾â€ã€‚

- **æ™®é€šå†™æ³•**ï¼š`func Size() (int, int, int)` â€”â€” è°æ˜¯é•¿ï¼Ÿè°æ˜¯å®½ï¼Ÿè°æ˜¯é«˜ï¼Ÿ
    
- **å…·åå†™æ³•**ï¼š
    ```go
    func Size() (width int, height int, depth int) {
        return 10, 20, 30
    }
    ```
    

è¿™æ ·åœ¨ç”Ÿæˆçš„ API æ–‡æ¡£ä¸­ï¼Œç”¨æˆ·ä¸€çœ¼å°±èƒ½æ˜ç™½æ¯ä¸ªæ•°å­—ä»£è¡¨çš„å«ä¹‰ã€‚

---

### 2. åœ¨ `defer` ä¸­ä¿®æ”¹è¿”å›å€¼ï¼ˆé«˜çº§ç¥æŠ€ï¼‰

è¿™æ˜¯å…·åè¿”å›å€¼ä¸å¯æ›¿ä»£çš„åœºæ™¯ã€‚

ç”±äº defer å‡½æ•°åœ¨ return è¯­å¥æ‰§è¡Œä¹‹åã€å‡½æ•°å½»åº•é€€å‡ºä¹‹å‰æ‰§è¡Œï¼Œåªæœ‰å…·åè¿”å›å€¼æ‰èƒ½åœ¨ defer ä¸­è¢«æ•è·å¹¶ä¿®æ”¹ã€‚

**ç»å…¸æ¡ˆä¾‹ï¼šæ•è·å¹¶ä¿®æ”¹é”™è¯¯**

```go
func DoSomething() (err error) {
    defer func() {
        if r := recover(); r != nil {
            // å¦‚æœç¨‹åºå´©æºƒäº†ï¼Œæˆ‘ä»¬åœ¨ defer é‡ŒæŠŠé”™è¯¯â€œæ•‘â€å›æ¥
            // åªæœ‰å…·åå˜é‡ err æ‰èƒ½åœ¨è¿™é‡Œè¢«é‡æ–°èµ‹å€¼
            err = fmt.Errorf("panic trapped: %v", r)
        }
    }()
    
    // ... è§¦å‘äº† panic ...
    return nil
}
```

å¦‚æœæ²¡æœ‰ç»™ `error` èµ·åå­—ï¼Œ`defer` é‡Œçš„åŒ¿åå‡½æ•°æ˜¯æ— æ³•è§¦ç¢°åˆ°å³å°†è¿”å›çš„é‚£ä¸ªå˜é‡çš„ã€‚

---

### 3. ç®€åŒ–å¤æ‚çš„åˆå§‹åŒ–é€»è¾‘

åœ¨ä¸€äº›é€»è¾‘éå¸¸å¤æ‚çš„é•¿å‡½æ•°ä¸­ï¼Œä½ å¯èƒ½åœ¨å¾ˆå¤šåœ°æ–¹éƒ½è¦è¿”å›ã€‚å¦‚æœä½¿ç”¨å…·åè¿”å›å€¼ï¼Œä½ å¯ä»¥å…ˆç»™å®ƒä»¬èµ‹å¥½é»˜è®¤å€¼ï¼Œç„¶ååœ¨ä¸åŒçš„ `if/else` åˆ†æ”¯é‡Œç›´æ¥å†™ `return`ã€‚

```go

func FindUser(id string) (user *User, err error) {
    // é»˜è®¤å€¼å·²ç»åˆå§‹åŒ–ä¸º nil, nil äº†
    if id == "" {
        err = ErrInvalidID // ç›´æ¥æ”¹å†™å…·åå˜é‡
        return             // è‡ªåŠ¨è¿”å› (nil, ErrInvalidID)
    }
    
    user = db.Query(id)
    if user == nil {
        err = ErrNotFound
        return             // è‡ªåŠ¨è¿”å› (nil, ErrNotFound)
    }
    
    return // è‡ªåŠ¨è¿”å› (user, nil)
}
```

---

### 4. è¡¥å……ç¬”è®°ï¼šå…·åè¿”å›å€¼çš„â€œçº¢é»‘æ¦œâ€

ä½ å¯ä»¥æŠŠè¿™ä¸ªæ€»ç»“è¿›ä½ çš„ç¬”è®°ï¼Œç”¨æ¥æé†’è‡ªå·±ä»€ä¹ˆæ—¶å€™è¯¥ç”¨å®ƒï¼š

|**æ¨èä½¿ç”¨ï¼ˆçº¢æ¦œï¼‰**|**é¿å…ä½¿ç”¨ï¼ˆé»‘æ¦œï¼‰**|
|---|---|
|è¿”å›å¤šä¸ªåŒç±»å‹å˜é‡ï¼ˆåšæ–‡æ¡£è¯´æ˜ï¼‰|å‡½æ•°é€»è¾‘å¾ˆçŸ­ã€å¾ˆç›´è§‚ï¼ˆå¦‚ä½ çš„ `Get`ï¼‰|
|éœ€è¦åœ¨ `defer` ä¸­ä¿®æ”¹æˆ–è®°å½•è¿”å›å€¼|å­˜åœ¨å˜é‡é®è”½ï¼ˆShadowingï¼‰é£é™©æ—¶|
|éœ€è¦åœ¨ `defer` ä¸­æ•è· `panic`|ä¼šå¯¼è‡´â€œè£¸è¿”å›â€ (`return`) å«ä¹‰ä¸æ˜æ—¶|
## äº”ã€å¤§å°å†™è§„åˆ™

**æ˜¯å¦èƒ½è¢«åŒ…å¤–è®¿é—®ï¼Œåªå–å†³äºï¼šåå­—é¦–å­—æ¯æ˜¯å¦å¤§å†™**

**ğŸ”¹ å¤§å†™ â†’ å¯¼å‡ºï¼ˆpublicï¼‰**
ğŸ”¹ **å°å†™ â†’ æœªå¯¼å‡ºï¼ˆprivateï¼ŒåŒ…å†…å¯è§ï¼‰**
## å…­ã€ä¸ºä»€ä¹ˆæœ‰å‡½æ•°ç±»å‹ï¼Ÿ

ä¸ºä»€ä¹ˆè¦è®¾è®¡å‡½æ•°ç±»å‹çš„å˜é‡ï¼Ÿ----**æŠŠâ€œè¡Œä¸ºâ€æŠ½è±¡æˆæ•°æ®ï¼Œä»è€Œé¿å…é‡å¤æµç¨‹ä»£ç **

ä¸ç”¨å‡½æ•°ç±»å‹:
```go
func DoEat() {
    fmt.Println("å¼€å§‹")
    fmt.Println("åƒé¥­")
    fmt.Println("ç»“æŸ")
}

func DoSleep() {
    fmt.Println("å¼€å§‹")
    fmt.Println("ç¡è§‰")
    fmt.Println("ç»“æŸ")
}

func DoStudy() {
    fmt.Println("å¼€å§‹")
    fmt.Println("å­¦ä¹ ")
    fmt.Println("ç»“æŸ")
}

```
ç”¨å‡½æ•°ç±»å‹ï¼š

```go
func Do(action func()) {
	fmt.Println("å¼€å§‹")
	action()
	fmt.Println("ç»“æŸ")
}



func main() {
	Do(func() {
		fmt.Println("åƒé¥­")
	})
	
	Do(func() {
		fmt.Println("ç¡è§‰")
	})
	
	Do(func() {
		fmt.Println("å­¦ä¹ ")
	})
}
```
## ä¸ƒã€ä¸ºä»€ä¹ˆæœ‰æ¥å£ç±»å‹ï¼Ÿ

çŸ¥é“ä¸ºä»€ä¹ˆæœ‰å‡½æ•°ç±»å‹åï¼Œæˆ‘ä»¬ä¼šå‘ç°å¦‚æœåªæœ‰å‡½æ•°ç±»å‹è¿˜æ˜¯ä¸å¤Ÿï¼Œå‡½æ•°ç±»å‹å˜é‡åªèƒ½æŠ½è±¡**å•ä¸ªè¡Œä¸º**ï¼Œä¸èƒ½æŠ½è±¡**ä¸€ç»„è¡Œä¸º**ï¼Œäºæ˜¯æ¥å£è¯ç”Ÿäº†

|     | å•ä¸ª             | ä¸€ç»„        |
| --- | -------------- | --------- |
| æ•°æ®  | int/string/... | struct    |
| è¡Œä¸º  | func()         | interface |

**æ¥å£ç±»å‹çš„å˜é‡ï¼Œæœ€å¸¸è§ã€æœ€é‡è¦çš„ç”¨é€”ï¼Œå°±æ˜¯ä½œä¸ºå‡½æ•°å‚æ•°**

```go
type Human interface {
	Walk()
	Speak()
}

func WalkSpeak(h human) {
	h.Walk()
	h.Speak()
}

type American struct {}
func (w American) Walk() {
	fmt.Println("da")
}
func (w American) Speak() {
	fmt.Println("English")
}

type Chinese struct {}
func (w Chinese) Walk() {
	fmt.Println("dada")
}
func (w Chinese) Speak() {
	fmt.Println("Chinese")
}

func main() {
	var a American
	var c Chinese
	
	WalkSpeak(a)
	WalkSpeak(c)
}
```
## å…«ã€â­æ¥å£å‹å‡½æ•°

ä»€ä¹ˆæ˜¯æ¥å£å‹å‡½æ•°ï¼Ÿå°±æ˜¯ç”¨å‡½æ•°**ç±»å‹**å®ç°æ¥å£

â—å‡½æ•°ä¸å‡½æ•°ç±»å‹æ˜¯ä¸¤ä¸ªæ¦‚å¿µ
- å‡½æ•° `func GetterFunc() () {}`
- å‡½æ•°ç±»å‹ `type GetterFunc func() ()`
â—åªæœ‰**ç±»å‹**æ‰èƒ½å®ç°æ¥å£ï¼Œæ‰€ä»¥åªæœ‰å‡½æ•°ç±»å‹èƒ½å®ç°æ¥å£

ä¸‰éƒ¨æ›²ï¼š
1. å†™æ¥å£
```go
type Greeter interface {
	Greet() string
}
```
2. å†™å‡½æ•°ç±»å‹
```go
type GreeterFunc func() string
```
3. å‡½æ•°ç±»å‹å®ç°æ¥å£æ–¹æ³•
```go
func (g GreeterFunc) Greet() string {
	return g()
}
```

ä½¿ç”¨æ¥å£å‹å‡½æ•°
1. å…ˆå®šä¹‰ä¸€ä¸ªæ¥å£å˜é‡
```go
var g Greeter
```
2. å†å°†ä¸€ä¸ªåŒ¿åå‡½æ•°è½¬æˆæ¥å£å‡½æ•°ç±»å‹ï¼Œå†èµ‹å€¼
```go
g = Greeter(func() string {
	return "hello"
})
```
3. è°ƒç”¨Get()
```go
g.Get()
```