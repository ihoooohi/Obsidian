## 一、进程&线程&协程

| 层级  | 负责什么      | 关键词      | 调度   |
| --- | --------- | -------- | ---- |
| 进程  | 隔离        | 虚拟内存     | 操作系统 |
| 线程  | 干活（CPU执行） | CPU核心，并行 | 操作系统 |
| 协程  | 干活（程序执行）  | 并发，用户态切换 | 用户程序 |
**进程负责提供空间，线程消耗CPU，协程组织并发**

## 二、线程与协程

举个例子：
- 1 个 CPU 核心
    
- 1 个 OS 线程
    
- 3 个 goroutine（协程）
    
    - G1：等网络
        
    - G2：算点东西
        
    - G3：等网络

为什么要有协程？

因为如果没有协程，一个线程得先等待G1完成才能执行下一个，而将线程分为协程可以在等G1的时候，将CPU让出来去给G2

**线程被动等待，协程主动让出**