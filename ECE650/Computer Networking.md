  计算机网络就是让不同区域的电脑能够通信，如果是电脑跟电脑直接连接会很麻烦，电脑一多线会很多很杂，所以需要用**交换机**和**路由器**
### 1.交换机是什么

**交换机**（数据链路层）可以解决同一个**局域网**内“多个电脑通信”的问题
交换机负责：
- 记住每台电脑的 **MAC 地址**
    
- 把数据按端口**准确转发**给目标电脑

```text
        ┌──────────┐
        │   交换机  │
        │ (Switch)  │
        └──────────┘
      ┌────┬────┬────┬────┐
      │    │    │    │    │
     PC1  PC2  PC3  打印机  服务器
   MAC:A MAC:B MAC:C  MAC:D   MAC:E

```

```text
┌───────────────┬────────┐
│   MAC 地址     │ 端口号 │
├───────────────┼────────┤
│ MAC:A (PC1)   │   1    │
│ MAC:B (PC2)   │   2    │
│ MAC:C (PC3)   │   3    │
│ MAC:D (打印机)│   4    │
│ MAC:E (服务器)│   5    │
└───────────────┴────────┘

```

```text
PC1 (MAC:A)
   │  目标 MAC:C
   ▼
┌──────────┐
│  交换机   │  ← 查 MAC 表
└──────────┘
   │  只发端口 3
   ▼
PC3 (MAC:C)

```

交换机主要用于连接**同一个网络**内的设备（如电脑、打印机、服务器），组建局域网（LAN）。

- **工作层次：** 主要工作在 **OSI 第二层（数据链路层）**。
    
- **识别依据：** 它识别的是 **MAC 地址**（硬件地址）。
    
- **核心逻辑：**
    
    - 它内部维护一张 **MAC 地址表**，记录哪个 MAC 地址在哪一个端口。
        
    - 当数据包进入时，它查看目标 MAC 地址，直接将其“切换”到对应的端口，而不是广播给所有人。

---
### 2. 路由器 (Router)是什么

**路由器**（网络层）可以解决“不同网络/不同区域间通信“的问题

用`traceroute`命令可以看到从本机到目标地址时，数据包经过了哪些 ip（路由）

路由器负责连接**不同的网络**（例如连接你的家庭局域网和互联网），并决定数据包的最佳传输路径。

- **工作层次：** 工作在 **OSI 第三层（网络层）**。
    
- **识别依据：** 它识别的是 **IP 地址**。
    
- **核心逻辑：**
    
    - 它维护一张 **路由表（Routing Table）**，决定数据包该发往哪个网段。
        
    - 它具备 **NAT（网络地址转换）** 功能，能让家里几十个设备共用一个公网 IP。
        
    - 它还负责 **DHCP**（自动分配 IP 地址）和**防火墙**安全过滤。
        
- **你的视角：** 当你做 AI 代理或分布式后端时，跨地域的节点通信（比如北京和上海的服务器）必须经过层层路由器的寻址转发1
![[images/Pasted image 20260119110029.png]]
### 3.OSI网络模型

![[images/Pasted image 20260121103144.png]]
### 4.相关linux命令

- `ping`: 网络层，测试主机是否可达

- `curl`：应用层，发送 http 请求

- `traceroute`: 网络层，看 ip 的跳转

- `nc`：传输层，建立 tcp 连接
	- ![[images/Pasted image 20260121104002.png]]